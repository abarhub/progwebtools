"use strict";(self.webpackChunkprogwebtools=self.webpackChunkprogwebtools||[]).push([[204],{2204:(G,b,h)=>{h.r(b),h.d(b,{CodeModule:()=>D});var C=h(9808),w=h(3697),s=h(5e3),p=h(3075);const A=["ref"];function S(t){return t&&t.replace(/\r\n|\r/g,"\n")}let F=(()=>{class t{constructor(e,r){this._differs=e,this._ngZone=r,this.className="",this.name="codemirror",this.autoFocus=!1,this.preserveScrollPosition=!1,this.cursorActivity=new s.vpe,this.focusChange=new s.vpe,this.scroll=new s.vpe,this.drop=new s.vpe,this.value="",this.disabled=!1,this.isFocused=!1,this.onChange=i=>{},this.onTouched=()=>{}}set options(e){this._options=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}get codeMirrorGlobal(){return this._codeMirror||(this._codeMirror="undefined"!=typeof CodeMirror?CodeMirror:Promise.resolve().then(h.t.bind(h,8266,19))),this._codeMirror}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>function T(t,n,e,r){return new(e||(e=Promise))(function(o,c){function a(f){try{u(r.next(f))}catch(m){c(m)}}function d(f){try{u(r.throw(f))}catch(m){c(m)}}function u(f){f.done?o(f.value):function i(o){return o instanceof e?o:new e(function(c){c(o)})}(f.value).then(a,d)}u((r=r.apply(t,n||[])).next())})}(this,void 0,void 0,function*(){const e=yield this.codeMirrorGlobal;this.codeMirror=((null==e?void 0:e.default)?e.default:e).fromTextArea(this.ref.nativeElement,this._options),this.codeMirror.on("cursorActivity",i=>this._ngZone.run(()=>this.cursorActive(i))),this.codeMirror.on("scroll",this.scrollChanged.bind(this)),this.codeMirror.on("blur",()=>this._ngZone.run(()=>this.focusChanged(!1))),this.codeMirror.on("focus",()=>this._ngZone.run(()=>this.focusChanged(!0))),this.codeMirror.on("change",(i,o)=>this._ngZone.run(()=>this.codemirrorValueChanged(i,o))),this.codeMirror.on("drop",(i,o)=>{this._ngZone.run(()=>this.dropFiles(i,o))}),this.codeMirror.setValue(this.value)}))}ngDoCheck(){if(!this._differ)return;const e=this._differ.diff(this._options);e&&(e.forEachChangedItem(r=>this.setOptionIfChanged(r.key,r.currentValue)),e.forEachAddedItem(r=>this.setOptionIfChanged(r.key,r.currentValue)),e.forEachRemovedItem(r=>this.setOptionIfChanged(r.key,r.currentValue)))}ngOnDestroy(){this.codeMirror&&this.codeMirror.toTextArea()}codemirrorValueChanged(e,r){const i=e.getValue();this.value!==i&&(this.value=i,this.onChange(this.value))}setOptionIfChanged(e,r){!this.codeMirror||this.codeMirror.setOption(e,r)}focusChanged(e){this.onTouched(),this.isFocused=e,this.focusChange.emit(e)}scrollChanged(e){this.scroll.emit(e.getScrollInfo())}cursorActive(e){this.cursorActivity.emit(e)}dropFiles(e,r){this.drop.emit([e,r])}writeValue(e){if(null==e)return;if(!this.codeMirror)return void(this.value=e);const r=this.codeMirror.getValue();if(e!==r&&S(r)!==S(e))if(this.value=e,this.preserveScrollPosition){const i=this.codeMirror.getScrollInfo();this.codeMirror.setValue(this.value),this.codeMirror.scrollTo(i.left,i.top)}else this.codeMirror.setValue(this.value)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e,this.setOptionIfChanged("readOnly",this.disabled)}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(s.aQg),s.Y36(s.R0b))},t.\u0275cmp=s.Xpm({type:t,selectors:[["ngx-codemirror"]],viewQuery:function(e,r){if(1&e&&s.Gf(A,5),2&e){let i;s.iGM(i=s.CRH())&&(r.ref=i.first)}},inputs:{className:"className",name:"name",autoFocus:"autoFocus",options:"options",preserveScrollPosition:"preserveScrollPosition"},outputs:{cursorActivity:"cursorActivity",focusChange:"focusChange",scroll:"scroll",drop:"drop"},features:[s._Bn([{provide:p.JU,useExisting:(0,s.Gpc)(()=>t),multi:!0}])],decls:3,vars:7,consts:[["autocomplete","off",3,"name","autofocus"],["ref",""]],template:function(e,r){1&e&&(s.TgZ(0,"textarea",0,1),s._uU(2,"    "),s.qZA()),2&e&&(s.Gre("ngx-codemirror ",r.className,""),s.ekj("ngx-codemirror--focused",r.isFocused),s.Q6J("name",r.name)("autofocus",r.autoFocus))},encapsulation:2,changeDetection:0}),t})(),I=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({}),t})();function Z(t,n){if(1&t&&(s.TgZ(0,"span"),s._uU(1),s._UZ(2,"br"),s.qZA()),2&t){const e=n.$implicit;s.xp6(1),s.Oqu(e)}}const E=function(){return{lineNumbers:!0,theme:"material",mode:"javascript"}},V=[{path:"",component:(()=>{class t{constructor(e){this.fb=e,this.codeForm=this.fb.group({srccodejavascript:[""],srccodejavascript2:[""]}),this.resultatCode=[]}ngOnInit(){var e,r;const i="let i=1;\nconsole.log('coucou');\nfor(let j=0;j<5;j++){\n  i=i+1;\n}\nreturn i;";null===(e=this.codeForm.get("srccodejavascript"))||void 0===e||e.setValue(i),null===(r=this.codeForm.get("srccodejavascript2"))||void 0===r||r.setValue(i)}executeJavascript(){var e;let r=null===(e=this.codeForm.get("srccodejavascript"))||void 0===e?void 0:e.value;if(r){const i=Function('"use strict";'+r);console.log("execution...");const o=i();console.log("execution ok. resultat:"+o),this.resultatCode.push(o)}}onSubmit(){}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(p.qu))},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-code"]],decls:7,vars:4,consts:[[3,"formGroup","ngSubmit"],["formControlName","srccodejavascript",3,"options"],["id","resultatCode"],[4,"ngFor","ngForOf"],[3,"click"]],template:function(e,r){1&e&&(s.TgZ(0,"form",0),s.NdJ("ngSubmit",function(){return r.onSubmit()}),s.TgZ(1,"div"),s._UZ(2,"ngx-codemirror",1),s.qZA(),s.TgZ(3,"div",2),s.YNc(4,Z,3,1,"span",3),s.qZA(),s.TgZ(5,"button",4),s.NdJ("click",function(){return r.executeJavascript()}),s._uU(6,"Execute"),s.qZA()()),2&e&&(s.Q6J("formGroup",r.codeForm),s.xp6(2),s.Q6J("options",s.DdM(3,E)),s.xp6(2),s.Q6J("ngForOf",r.resultatCode))},directives:[p._Y,p.JL,p.sg,F,p.JJ,p.u,C.sg],styles:[""]}),t})()}];let J=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[w.Bz.forChild(V)],w.Bz]}),t})(),D=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[C.ez,J,I,p.UX]]}),t})()}}]);